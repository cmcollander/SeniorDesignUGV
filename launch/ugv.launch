<launch>
	<param name = "/diff_drive_controller/left_wheel" type = "string" value = "Left" />
	<param name = "/diff_drive_controller/right_wheel" type = "string" value = "Right" />
	<rosparam param = "/diff_drive_controller/pose_covariance_diagonal">[0.01,0.01,0.01,0.1,0.1,0.1]</rosparam>
	<rosparam param = "/diff_drive_controller/twist_covariance_diagonal">[0.01,0.01,0.01,0.1,0.1,0.1]</rosparam>
	<param name = "/diff_drive_controller/wheel_separation" type = "double" value = "0.56515" />
	<param name = "/diff_drive_controller/wheel_radius" type = "double" value = "0.1651" />
	<param name = "/diff_drive_controller/type" type = "string" value = "diff_drive_controller/DiffDriveController" />
	<param name = "/diff_drive_controller/enable_odom_tf" type = "bool"  value = "true" />
	<param name = "/diff_drive_controller/publish_cmd" type = "bool" value = "true" />
	<node pkg = "controller_manager"
		type = "spawner"
		name = "controller_manager_spawner"
		args = "diff_drive_controller" />
	
	<node pkg = "ugv" 
	      type = "UGVinterface"
	      name = "UGVinterface_node" />

	<node pkg="lms1xx" type="LMS1xx_node" name="lidar">
		<param name="host" value="169.254.195.197" />
	</node>

	<node pkg = "ugv"
		type = "laserbroadcaster"
		name = "laserbroadcasternode" />

	<node pkg = "topic_tools"
		type = "relay"
		name = "cmd_vel_relay"
		args = "cmd_vel diff_drive_controller/cmd_vel" />
	<node pkg = "topic_tools"
		type = "relay"
		name = "odom_relay"
		args = "diff_drive_controller/odom odom" />

	<node pkg = "topic_tools"
		type = "relay"
		name = "camera_relay"
		args = "compressed_image cimage" />

	<node type="raspicam_node" pkg="raspicam_node" name="raspicam_node" output="screen">
    		<param name="camera_info_url" value="package://raspicam_node/camera_info/camerav2_1280x720.yaml"/>
    		<param name="width" value="1280"/>
    		<param name="height" value="720"/>
    		<!-- We are running at 90fps to reduce motion blur -->
    		<param name="framerate" value="90"/>
		<param name="camera_frame_id" value="raspicam"/>
	</node>	

</launch>
